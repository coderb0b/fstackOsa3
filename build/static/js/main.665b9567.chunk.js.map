{"version":3,"sources":["components/Person.js","components/Filter.js","components/AddPerson.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","name","number","deletePerson","react_default","a","createElement","Fragment","onSubmit","event","type","Filter","showPersons","handleShowPersonsChange","value","onChange","AddPerson","addName","newName","handleNameChange","newNumber","handleNumberChange","baseUrl","services_persons","axios","get","newObject","post","id","delete","concat","put","Notification","message","error","includes","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setShowPersons","_useState9","_useState10","newMessage","setNewMessage","personsToShow","filter","person","toLowerCase","useEffect","personService","then","response","data","components_Notification","components_Filter","target","components_AddPerson","preventDefault","personObject","date","Date","toISOString","find","p","window","confirm","changedPersonNumber","objectSpread","map","setTimeout","catch","components_Person","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.665b9567.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ name, number, deletePerson }) => {\n  return (\n  <>\n    <form onSubmit={(event) => deletePerson(event)}>\n      {name} {number} {` `}\n\t\t  <button type=\"submit\">delete</button><br/>\n    </form>\n\t</>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = ({ showPersons, handleShowPersonsChange }) => {\n  return (\n    <div>\n\t\t  filter shown with <input\n\t\t  value={showPersons}\n\t\t  onChange={handleShowPersonsChange}\n\t\t  />\n\t</div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst AddPerson = ({ addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return (\n    <form onSubmit={addName}>\n        <div>\n          name: <input \n\t\t  value={newName} \n\t\t  onChange={handleNameChange}\n\t\t  />\n        </div>\n\t\t<div>\n          number: <input \n\t\t  value={newNumber} \n\t\t  onChange={handleNumberChange}\n\t\t  />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default AddPerson","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl = 'https://stark-river-63333.herokuapp.com/api/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\treturn axios.get(baseUrl)\n}\n\nconst create = newObject => {\n\treturn axios.post(baseUrl, newObject)\n}\n\nconst remove = (id) => {\n\treturn axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n\treturn axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, remove, update }\n","import React from 'react'\n\nconst Notification = ({ message, error }) => {\n  if (message === null) {\n    return null\n  } else if (message.includes(\"has been removed\")) {\n    return (\n\t  <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n  return (\n\t  <div className=\"success\">\n        {message}\n      </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport AddPerson from './components/AddPerson'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showPersons, setShowPersons ] = useState('')\n  const [ newMessage, setNewMessage ] = useState(null)\n\n  const addName = (event) => {\n\t  event.preventDefault()\n\t  const personObject = {\n\t\t  name: newName,\n\t\t  number: newNumber,\n\t\t  date: new Date().toISOString(),\n\t  }\n\t  \n\t  const person = persons.find(p => p.name === personObject.name)\n\t  \n\t  if (typeof person !== \"undefined\") {\n\t\t  if (window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)) {\n\t\t\t  const changedPersonNumber = { ...person, number: personObject.number }\n\t\t\t  personService\n\t\t\t    .update(person.id, changedPersonNumber)\n\t\t\t\t.then(response => {\n\t\t\t\tsetPersons(persons.map(p => p.id !== person.id ? p : response.data))\n\t\t\t\tsetNewMessage(`Changed number for ${person.name}`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNewMessage(null)\n\t\t\t\t}, 2000)\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst virhe = \"virhe\"\n\t\t\t\t\tsetNewMessage(`Information of ${person.name} has been removed from server`, virhe)\n\t\t\t\t})\n\t\t  }\n\t  } else {\n\t\t  \n\t\t  personService\n\t\t    .create(personObject)\n\t\t\t.then(response => {\n\t\t\t\tsetPersons(persons.concat(response.data))\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t\tsetNewMessage(`Added ${personObject.name}`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNewMessage(null)\n\t\t\t\t}, 2000)\n\t\t\t})\n\t  }\n  }\n  \n  const deletePerson = (id, event, name) => {\n\t  event.preventDefault()\n\t  if (window.confirm(`Delete ${name} ?`)) {\n\t\tpersonService\n\t\t  .remove(id)\n\t\t  .then(() => {\n\t\t\tsetPersons(persons.filter(p => p.id !== id))\n\t\t\tsetNewMessage(`Deleted ${name}`)\n\t\t  })\n\t\t  setTimeout(() => {\n\t\t\tsetNewMessage(null)\n\t\t}, 2000)\n\t  }\n  }\n  \n  const handleNameChange = (event) => {\n\t  setNewName(event.target.value)\n  }\n  \n  const handleNumberChange = (event) => {\n\t  setNewNumber(event.target.value)\n  }\n  \n  const handleShowPersonsChange = (event) => {\n\t  setShowPersons(event.target.value)\n  }\n  \n  const personsToShow = showPersons === ''\n    ? persons\n\t: persons.filter(person => person.name.toLowerCase().includes(showPersons.toLowerCase()))\n  \n  const rows =() => personsToShow.map(person =>\n\t\t<Person\n\t\t  key={person.id}\n\t\t  name={person.name}\n\t\t  number={person.number}\n\t\t  deletePerson={(event) => deletePerson(person.id, event, person.name)}\n\t\t/>\n\t)\n  \n  \n  useEffect(() => {\n\t  personService\n\t  .getAll()\n\t  .then(response => {\n\t\t  setPersons(response.data)\n\t  })\n  }, [])\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\t    <Notification message={newMessage} />\n\t    <Filter showPersons={showPersons} handleShowPersonsChange={handleShowPersonsChange} />\n\t  <h2>add a new</h2>\n        <AddPerson addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n\t    {rows()}\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}