{"version":3,"sources":["components/Person.js","components/Filter.js","components/AddPerson.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","name","number","deletePerson","react_default","a","createElement","Fragment","onSubmit","event","type","Filter","showPersons","handleShowPersonsChange","value","onChange","AddPerson","addName","newName","handleNameChange","newNumber","handleNumberChange","baseUrl","services_persons","axios","get","newObject","post","id","delete","concat","put","Notification","message","includes","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setShowPersons","_useState9","_useState10","newMessage","setNewMessage","personsToShow","filter","person","toLowerCase","useEffect","personService","then","response","data","components_Notification","components_Filter","target","components_AddPerson","preventDefault","personObject","date","Date","toISOString","find","p","window","confirm","changedPersonNumber","objectSpread","map","setTimeout","catch","error","console","log","components_Person","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0c05eefb.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ name, number, deletePerson }) => {\n  return (\n  <>\n    <form onSubmit={(event) => deletePerson(event)}>\n      {name} {number} {` `}\n\t\t  <button type=\"submit\">delete</button><br/>\n    </form>\n\t</>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = ({ showPersons, handleShowPersonsChange }) => {\n  return (\n    <div>\n\t\t  filter shown with <input\n\t\t  value={showPersons}\n\t\t  onChange={handleShowPersonsChange}\n\t\t  />\n\t</div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst AddPerson = ({ addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return (\n    <form onSubmit={addName}>\n        <div>\n          name: <input \n\t\t  value={newName} \n\t\t  onChange={handleNameChange}\n\t\t  />\n        </div>\n\t\t<div>\n          number: <input \n\t\t  value={newNumber} \n\t\t  onChange={handleNumberChange}\n\t\t  />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default AddPerson","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl = 'https://stark-river-63333.herokuapp.com/api/persons'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\treturn axios.get(baseUrl)\n}\n\nconst create = newObject => {\n\treturn axios.post(baseUrl, newObject)\n}\n\nconst remove = (id) => {\n\treturn axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n\treturn axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, remove, update }\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  } else if (message.includes(\"Error\")) {\n    return (\n\t  <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n  return (\n\t  <div className=\"success\">\n        {message}\n      </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport AddPerson from './components/AddPerson'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showPersons, setShowPersons ] = useState('')\n  const [ newMessage, setNewMessage ] = useState(null)\n\n  const addName = (event) => {\n\t  event.preventDefault()\n\t  const personObject = {\n\t\t  name: newName,\n\t\t  number: newNumber,\n\t\t  date: new Date().toISOString(),\n\t  }\n\t  \n\t  const person = persons.find(p => p.name === personObject.name)\n\t  \n\t  if (typeof person !== \"undefined\") {\n\t\t  if (window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)) {\n\t\t\t  const changedPersonNumber = { ...person, number: personObject.number }\n\t\t\t  personService\n\t\t\t    .update(person.id, changedPersonNumber)\n\t\t\t\t.then(response => {\n\t\t\t\tsetPersons(persons.map(p => p.id !== person.id ? p : response.data))\n\t\t\t\tsetNewMessage(`Changed number for ${person.name}`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNewMessage(null)\n\t\t\t\t}, 2000)\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNewMessage(`Error: Information of ${person.name} has been removed from server`)\n\t\t\t\t})\n\t\t  }\n\t  } else {\n\t\t  \n\t\t  personService\n\t\t    .create(personObject)\n\t\t\t.then(response => {\n\t\t\t\tsetPersons(persons.concat(response.data))\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t\tsetNewMessage(`Added ${personObject.name}`)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNewMessage(null)\n\t\t\t\t}, 2000)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error.response.data.error)\n\t\t\t\tsetNewMessage(`Error: ${error.response.data.error}`)\n\t\t\t})\n\t  }\n  }\n  \n  const deletePerson = (id, event, name) => {\n\t  event.preventDefault()\n\t  if (window.confirm(`Delete ${name} ?`)) {\n\t\tpersonService\n\t\t  .remove(id)\n\t\t  .then(() => {\n\t\t\tsetPersons(persons.filter(p => p.id !== id))\n\t\t\tsetNewMessage(`Deleted ${name}`)\n\t\t  })\n\t\t  setTimeout(() => {\n\t\t\tsetNewMessage(null)\n\t\t}, 2000)\n\t  }\n  }\n  \n  const handleNameChange = (event) => {\n\t  setNewName(event.target.value)\n  }\n  \n  const handleNumberChange = (event) => {\n\t  setNewNumber(event.target.value)\n  }\n  \n  const handleShowPersonsChange = (event) => {\n\t  setShowPersons(event.target.value)\n  }\n  \n  const personsToShow = showPersons === ''\n    ? persons\n\t: persons.filter(person => person.name.toLowerCase().includes(showPersons.toLowerCase()))\n  \n  const rows =() => personsToShow.map(person =>\n\t\t<Person\n\t\t  key={person.id}\n\t\t  name={person.name}\n\t\t  number={person.number}\n\t\t  deletePerson={(event) => deletePerson(person.id, event, person.name)}\n\t\t/>\n\t)\n  \n  \n  useEffect(() => {\n\t  personService\n\t  .getAll()\n\t  .then(response => {\n\t\t  setPersons(response.data)\n\t  })\n  }, [])\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\t    <Notification message={newMessage} />\n\t    <Filter showPersons={showPersons} handleShowPersonsChange={handleShowPersonsChange} />\n\t  <h2>add a new</h2>\n        <AddPerson addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n\t    {rows()}\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}